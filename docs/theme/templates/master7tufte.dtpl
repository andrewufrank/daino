<!DOCTYPE html>
<!-- the master page `master7tufte.dtpl` version 2
    using css-tufte from github
    but using w3c for the index pages

    (name of masterN.dtpl is printed at bottom of page automatically from settingsN.yml file)
    
    master for the pandoc templating mechanism (putValInMaster in Templating.hs)
	needs page-title, page-title-postfix
		author date and keywords for IndexCollectlect
    contentHtml, beforeContent, afterContent to wrap htmlcontent 
    
    based on tufte css example code fount at https://github.com/edwardtufte/tufte-css

	refs in the menus are relative to the web root
	(absolute web, inserted a / in the template)
    removed highlighting-css and css to load 
    files available are tufte.css and w3c.css not used

    sollten fuer die indexseiten ein anderer master verwendet werden?
    sollte der master per file ausgewaehlt werden koennen?
	-->


<html lang="$lang$">  $--this is a comment not inserted in html 
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="index"/>
    <meta name="robots" content="follow"/>
    <meta name="copyright" content="$author$"/>    

    <link rel="stylesheet" href="/resources/templates/static/tufte.css"/>  $-- the et-book font is also in the template 
    <link rel="stylesheet" href="/resources/templates/static/tufte-extra.css"/>  $-- the et-book font is also in the template 
    <link rel="stylesheet" href="/resources/templates/static/pandoc.css"/>  $-- the et-book font is also in the template 
    $-- <link rel="stylesheet" href="/resources/templates/static/et-book">  $-- these are all fonts in dir, but called from the tufte.css
    <!-- <link rel="stylesheet" href="/resources/templates/static/ssg_ext_w3c.css" type="text/css">
    <link rel="stylesheet" href="/resources/templates/static/w3c.css" type="text/css"> -->

    <meta name="description" content="The HomePage of $author$ with address, url, cv and publications."/>

    $for(author)$
    <meta name="author" content="$author$" />  $-- if author is AUF then blanked - TODO
    $endfor$
    $if(date)$
    <meta name="dcterms.date" content="$date$" />  $-- date in index.md yml head
    $endif$
    $if(keywords)$
    <meta name="keywords" content="$for(keywords)$$keywords$$sep$, $endfor$" />
    $endif$

$-- <title>$page-title$$if(page-title-postfix)$--$page-title-postfix$$endif$itlenotset</title>
        $-- only siteHeader.sitename is set
    <title>$siteHeader.sitename$</title>  $-- simple (for now?)
</head>  

<body> $-- body of html page

    $for(include-before)$
    $include-before$include-beforeXX
    $endfor$

â€‹<!-- Head   under ribbon on top-->  $-- height limited to 300, how to adapt?
<header class="w3-display-container ">
    $if(image)$   $-- image in md yaml 
        <img class="w3-image centerImage" src=$image$  style="object-fit: contain; max-height: 400px; height: auto; width: auto; "  
            alt="$imageCaption$">  $-- the image put into index.md
    $else$        $-- no image in head 
        <img class="w3-image" src=$siteHeader.banner$ style="object-fit: contain;"
            alt="$siteHeader.bannerCaption$">  $-- the image put in the settings.yml

    <div class="w3-display-bottomleft w3-padding-large w3-text-light-grey"; 
        display: flex;
        align-items:flex-start;>
        <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">$siteHeader.sitename$</h1>
        <h2 class="w3-hide-large" style="white-space:nowrap">$siteHeader.sitename$</h5>
        <h3 class="w3-hide-medium w3-hide-small">$siteHeader.byline$</h3> 
                $-- byline is not shown on small screens
      </div>
    $endif$

<!-- Navbar ribbon (sits on top) -->
<div class="sticky">
    <div class="w3-bar">
      <a href="/index.html" class="w3-bar-item w3-button"><b>faviconMissing </b>$siteHeader.sitename$  </a>
      <!-- Float links to the right. Hide them on small screens -->
      <div class="w3-right w3-hide-small">
        $for(menuitems.menuNav)$
        <a href=/$menuitems.menuNav.navlink$ class="w3-bar-item w3-button">$menuitems.menuNav.navtext$</a>
        $endfor$
      </div>
    </div>
</div>
    
</header>

<!-- content -->
<!-- <section class="w3-container w3-content content"> $-- content  -->
    <!-- <section  class="w3-grey"  style="max-width:900px">  title section  -->

        <!-- here starts the tufte styled content  --------------------------------------------  -->
<article> 
        $if(title)$
                <h1 id="tufte-css" >$title$</h1> $-- removed w3-padding
            $if(subtitle)$
                <p class="subtitle">$subtitle$</p>
            $endif$
            $if(author)$ 
                <p class="subtitle">$author$</p>   
            $endif$
        $endif$

        <!-- <section  style="padding-left: 40px;" >  $-- abstracts and tableof contente after 
            title   -->
        <section>
            $if(toc)$
                <nav id="$idprefix$TOC">
                $table-of-contents$
                </nav>
            $endif$

            $beforeContent$
                
            $if(abstract)$
                <p>$abstract$</p>
                <p href=/$linkpdf3$>  (view as pdf)</p>
            $endif$
        </section> 
    <!-- end title of entry -->

    <section>   
        $content3$  <!--content-from-panrep-blocks which is the content of the index.md -->
    </section>   
    $afterContent$

    $for(include-after)$
        $include-after$includeAfterX
    $endfor$

   <!-- menu section  -->
    <ul class="w3-ul w3-margin-top w3-hoverable">
            $for(menu2files)$ 
                <li>     <!-- list item menu2files:  -->
                <a href=/$menu2files.link2$><em>$menu2files.title2$ </em></a>
                $if(menu2files.abstract2)$<br>$menu2files.abstract2$
                <a href=/$menu2files.pdf2$>  (view as pdf)</a>
                $endif$		     
                <span class=w3-tiny>$menu2files.author2$ $menu2files.date2$ 
                    </span>
                </li>
            $endfor$ 
            $if(menu2subdir)$ 
                <a>Directories with more related blogs:</a>
                $for(menu2subdir)$ 
                <li> 
                    <a href=/$menu2subdir.link2$><em>$menu2subdir.title2$</em></a>
                $if(menu2subdir.abstract2)$<br>$menu2subdir.abstract2$$endif$		
                    
                </li>
                $endfor$
            $endif$
    </ul>
</section>
</article>

<!-- footer -->
<div class="w3-grey w3-container w3-tiny" style="margin-top:24px;padding-right:58px"> $-- removed w3-padding-32
    <p class="w3-left">  <!--  not including data, but version -->
        <a>Produced with SGG $ssgversion$ from $filename3$ ($visibility$, $version$) with $storage.masterTemplateFile$.</a>  
        <a href="http://frank.gerastree.at/Journals/SSGdesign/index.html">Rationale for page layout design</a>
    
    <div class="w3-right">
        <a></a>Powered by</a>
        <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank">w3.css</a>
    </div>
</div>

</body>
</html>

