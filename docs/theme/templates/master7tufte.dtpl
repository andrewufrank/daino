<!DOCTYPE html>
<!-- the master page `master7tufte.dtpl` version 2
    using css-tufte from github
    but using w3c for the index pages

    (name of masterN.dtpl is printed at bottom of page automatically from settingsN.yml file)
    
    master for the pandoc templating mechanism (putValInMaster in Templating.hs)
	needs page-title, page-title-postfix
		author date and keywords for IndexCollectlect
    contentHtml, beforeContent, afterContent to wrap htmlcontent 
    
    based on tufte css example code fount at https://github.com/edwardtufte/tufte-css

	refs in the menus are relative to the web root
	(absolute web, inserted a / in the template)
    removed highlighting-css and css to load 
    files available are tufte.css and w3c.css not used

    sollten fuer die indexseiten ein anderer master verwendet werden?
    sollte der master per file ausgewaehlt werden koennen?
	-->


<html lang="$lang$">  $--this is a comment not inserted in html 
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="index"/>
    <meta name="robots" content="follow"/>
    <meta name="copyright" content="$settingsAuthor$"/>   
    
    $-- two w3c related stylesheets before the tufte one  

    <!-- <link rel="stylesheet" href="/resources/templates/static/w3c.css" type="text/css">   -->
    <!-- <link rel="stylesheet" href="/resources/templates/static/ssg_ext_w3c.css" type="text/css">   -->

    <link rel="stylesheet" href="/resources/templates/static/tufte.css"/>  
    <link rel="stylesheet" href="/resources/templates/static/tufte-extra.css"/>   
    <link rel="stylesheet" href="/resources/templates/static/pandoc.css"/>  

    $-- the tufte fonts are included from tufte.css

    <meta name="description" content="The HomePage of $settingsAuthor$ with address, url, cv and publications."/>

    $for(settingsAuthor)$
    <meta name="author" content="$settingsAuthor$" />  
    $endfor$
    $if(date)$
    <meta name="dcterms.date" content="$date$" />  $-- date in index.md yml head
    $endif$
    $if(keywords)$
    <meta name="keywords" content="$for(keywords)$$keywords$$sep$, $endfor$" />
    $endif$

    $-- <title>$page-title$$if(page-title-postfix)$--$page-title-postfix$$endif$itlenotset</title>
        $-- only siteHeader.sitename is set
    <title>$siteHeader.sitename$</title>  $-- simple (for now?)

    <style>
        :root {
            --main-color: #06c;
            --accent-color: #006;
            --af-garden-light: #eefbb5; 
            --af-base:  #ccc;   $-- lighter gray than base1
            --af-light: #f1f1f1;  $-- same as base3?


            --small-limit: 480px;
            --medium-limit: 1000px;
        
        }


        div.sticky {
          position: -webkit-sticky;
          position: sticky;
          top: 0;
          background-color: var(--af-garden-light);}
          /* padding: 50px; */
          font-size: 20px;
        }
        .af-tiny  {
            font-size: 0.7rem;
            line-height: 1.5;
        }
         /* replace with vars    */
            /* .base03  { background-color: #002b36; }
            .base02  { background-color: #073642; }
            .base01  { background-color: #586e75; }
            .base00  { background-color: #657b83; }
            .base0   { background-color: #839496; }
            .base1   { background-color: #93a1a1; }
            .base2   { background-color: #eee8d5; }
            .base3   { background-color: #fdf6e3; }
            .yellow  { background-color: #b58900; }
            .orange  { background-color: #cb4b16; }
            .red     { background-color: #dc322f; }
            .magenta { background-color: #d33682; }
            .violet  { background-color: #6c71c4; }
            .blue    { background-color: #268bd2; }
            .cyan    { background-color: #2aa198; }
            .green   { background-color: #859900; } */

            $-- to avoid blockquotes only halfway rendered (see https://github.com/jez/pandoc-sidenote/issues/4)
            span.blockquote, span.sourceCode {
                display:block;
                float:left;
                left:1rem;
                margin-top:-5%;
                margin-bottom:5%;
                clear:both;
                width:90%;
                position:relative;
                border-left:0.5rem solid #ccc;
                padding:0.5rem
            }
            .bottomleft {
                position: absolute;
                bottom: 8px;
                left: 16px;
                font-size: 18px;
                }
            @media (min-width:993px){.w3-modal-content{width:900px}.w3-hide-large{display:none!important}.w3-sidebar.w3-collapse{display:block!important}}
            @media (max-width:992px) and (min-width:601px){.w3-hide-medium{display:none!important}}
            @media (max-width:992px){.w3-sidebar.w3-collapse{display:none}.w3-main{margin-left:0!important;margin-right:0!important}.w3-auto{max-width:100%}}
            .w3-bar-block .w3-dropdown-hover,.w3-bar-block .w3-dropdown-click{width:100%}
            .w3-bar-block .w3-dropdown-hover .w3-dropdown-content,.w3-bar-block .w3-dropdown-click .w3-dropdown-content{min-width:100%}
            .w3-bar-block .w3-dropdown-hover .w3-button,.w3-bar-block .w3-dropdown-click .w3-button{width:100%;text-align:left;padding:8px 16px}
            .w3-main,#main{transition:margin-left .4s}
            /* .w3-modal{z-index:3;display:none;padding-top:100px;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4)} */
            /* .w3-modal-content{margin:auto;background-color:#fff;position:relative;padding:0;outline:0;width:600px} */
            .w3-bar{width:100%;overflow:hidden}.w3-center .w3-bar{display:inline-block;width:auto}
            .w3-bar .w3-bar-item{padding:8px 16px;float:left;width:auto;border:none;display:block;outline:0}
            .w3-bar .w3-dropdown-hover,.w3-bar .w3-dropdown-click{position:static;float:left}
            .w3-bar .w3-button{white-space:normal}
            .w3-bar-block .w3-bar-item{width:100%;display:block;padding:8px 16px;text-align:left;border:none;white-space:normal;float:none;outline:0}
            .w3-bar-block.w3-center .w3-bar-item{text-align:center}.w3-block{display:block;width:100%}
            .w3-right-align{text-align:right!important}
            .w3-hoverable tbody tr:hover,.w3-ul.w3-hoverable li:hover{background-color: var(--af-garden-light)}.w3-centered tr th,.w3-centered tr td{text-align:center}
            .w3-left{float:left!important}
            .w3-right{float:right!important}
            .w3-xxxlarge{font-size:48px!important}
            .w3-display-container{position:relative;}
            .w3-container,.w3-panel{padding:0.01em 16px}
            .w3-container:after,.w3-container:before,.w3-panel:after,.w3-panel:before,.w3-row:after,.w3-row:before,.w3-row-padding:after,.w3-row-padding:before,
                    .w3-cell-row:before,.w3-cell-row:after,.w3-clear:after,.w3-clear:before,.w3-bar:before,.w3-bar:after{content:"";display:table;clear:both}
            .w3-text-light-grey,.w3-hover-text-light-grey:hover,.w3-text-light-gray,.w3-hover-text-light-gray:hover{color:var(--af-light)!important}

            @media only screen and (max-width: var(--small-limit)) {
                        html { font-size: 10px; }  $-- overrides tufte's 15px
                }
            @media only screen and (max-width: var(--medium-limit)) {
                    html { font-size: 12px; }  $-- overrides tufte's 15px
            }
            html { font-size: 14px; }  $-- overrides tufte's 15px

    </style>
</head>  

<body> $-- body of html page

    $for(include-before)$
    $include-before$include-beforeXX
    $endfor$

â€‹<!-- Head   under ribbon on top-->  $-- height limited to 300, how to adapt?
<header class="w3-display-container">
    $if(image)$   $-- image in md yaml 
        <img class="centerImage" src=$image$  style="object-fit: contain; max-height: 400px; height: auto; width: auto; "  
            alt="$imageCaption$">  $-- the image put into index.md
    $else$        $-- no image in head 
        <img class="" src=$siteHeader.banner$ style="object-fit: contain;"
            alt="$siteHeader.bannerCaption$">  $-- the image put in the settings.yml

    <div class="bottomleft w3-text-light-grey";  $--  w3-padding-large w3-text-light-grey
        display: flex;
        align-items:flex-start;>
        <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">$siteHeader.sitename$</h1>
        <h2 class="w3-hide-large" style="white-space:nowrap">$siteHeader.sitename$</h5>
        <h3 class="w3-hide-medium w3-hide-small">$siteHeader.byline$</h3> 
                $-- byline is not shown on small screens
      </div>
    $endif$
</header>

<!-- Navbar ribbon (sits on top) -->
<div class="sticky" style="background-color: var(--af-garden-light)">
    <div class="w3-bar">  $-- removed w3-button
      <a href="/index.html" class=" w3-bar-item "><b>faviconMissing </b>$siteHeader.sitename$  </a>
      <!-- Float links to the right. Hide them on small screens -->
      <div class="w3-right w3-hide-small">
        $for(menuitems.menuNav)$  $-- removed w3-button
        <a href=/$menuitems.menuNav.navlink$ class="w3-bar-item">$menuitems.menuNav.navtext$</a>
        $endfor$
      </div>
    </div>
</div>
    


<!-- content -->
<!-- <section class="w3-container w3-content content"> $-- content  -->
    <!-- <section  class="w3-grey"  style="max-width:900px">  title section  -->

        <!-- here starts the tufte styled content  --------------------------------------------  -->
<article> 
        $if(title)$
                <h1 id="tufte-css" >$title$</h1> $-- removed w3-padding
            $if(subtitle)$
                <p class="subtitle">$subtitle$</p>
            $endif$
            $if(author)$ 
                <p class="subtitle">$author$</p>   
            $endif$
        $endif$

        <!-- <section  style="padding-left: 40px;" >  $-- abstracts and tableof contente after 
            title   -->
        $-- <section>
            $if(toc)$
                <nav id="$idprefix$TOC">
                $table-of-contents$
                </nav>
            $endif$

            $beforeContent$
                
            $if(abstract)$
                <p>
                    <a>$abstract$</a>
                    <a href=/$linkpdf3$>  (view as pdf)</a>
                </p>
            $endif$
        $-- </section> 
    <!-- end title of entry -->

    <section>   
        $content3$  <!--content-from-panrep-blocks which is the content of the index.md -->
    </section>   
    $afterContent$

    $for(include-after)$
        $include-after$includeAfterX
    $endfor$

   <!-- menu section  -->
    <ul class="w3-ul w3-hoverable">
            $for(menu2files)$ 
                <li>     <!-- list item menu2files:  -->
                <a href=/$menu2files.link2$><em>$menu2files.title2$ </em></a>
                $if(menu2files.abstract2)$<br>$menu2files.abstract2$
                <a href=/$menu2files.pdf2$>  (view as pdf)</a>
                $endif$		     
                <span class=af-tiny>$menu2files.author2$ $menu2files.date2$ 
                    </span>
                </li>
            $endfor$ 
            $if(menu2subdir)$ 
                <a>Directories with more related blogs:</a>
                $for(menu2subdir)$ 
                <li> 
                    <a href=/$menu2subdir.link2$><em>$menu2subdir.title2$</em></a>
                $if(menu2subdir.abstract2)$<br>$menu2subdir.abstract2$$endif$		
                    
                </li>
                $endfor$
            $endif$
    </ul>
$-- </section>
</article>

<!-- footer -->
<div class=" w3-container  .af-tiny" style="background-color: var(--af-garden-light);margin-top:24px;padding-right:58px ">  
    <div class="w3-left">  <!--  not including data, but version -->
        <a>Produced with SGG $ssgversion$ from $filename3$ ($visibility$, $version$) with $siteLayout.masterTemplateFile$.</a>  
    </div>
    <div class="w3-right">
        <a><Powered by</a>
            <a href="http://frank.gerastree.at/Journals/SSGdesign/index.html" target="
            _blank">SSG</a> and
            <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank">w3.css</a>
    </div>
</div>

</body>
</html>

